

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Event Tracking &mdash; Gini Capture SDK for Android 2.0 documentation</title>
  

  
  

  
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic|Source+Code+Pro|Roboto+Slab:400,700" rel="stylesheet" type="text/css" />

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'./',
        VERSION:'2.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
    <link rel="top" title="Gini Capture SDK for Android 2.0 documentation" href="index.html"/>
        <link rel="next" title="How to Upload PDFs and Images (pre-2.4.0)" href="guide-for-open-with.html"/>
        <link rel="prev" title="Customization Guide" href="customization-guide.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" id="gini-logo">gini API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://developer.gini.net/gini-capture-sdk-android/ginicapture/dokka/index.html">Gini Capture Javadoc</a></li>
<li class="toctree-l1"><a class="reference external" href="http://developer.gini.net/gini-capture-sdk-android/network/javadoc/index.html">Network Library Javadoc</a></li>
<li class="toctree-l1"><a class="reference external" href="http://developer.gini.net/gini-capture-sdk-android/accounting/network/javadoc/index.html">Accounting Network Library Javadoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization-guide.html">Customization Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#onboarding-screen">Onboarding Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#action-bar">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#next-button">2. Next Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#page-indicators">3. Page Indicators</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#onboarding-message">4. Onboarding Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#onboarding-pages">5. Onboarding Pages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#camera-screen">Camera Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#camera-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-corner-guides">2. Document Corner Guides</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#camera-trigger-button">3. Camera Trigger Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#tap-to-focus-indicator">4. Tap to Focus Indicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#help-menu-item">5. Help Menu Item</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#background">6. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#document-import-button">7. Document Import Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#hints">8. Hints</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#images-stack">9. Images Stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#qrcode-detected-popup">10. QRCode Detected Popup</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#read-storage-permission-dialogs">11. Read Storage Permission Dialogs</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#no-camera-permission">12. No Camera Permission</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#multi-page-limit-alert">13. Multi-Page Limit Alert</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#flash-toggle-button">14. Flash Toggle Button</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#review-screen">Review Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#review-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#review-2">2. Next Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#rotate-button">3. Rotate Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#advice">4. Advice</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#review-5">5. Background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#analysis-screen">Analysis Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#analysis-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#activity-indicator">2. Activity Indicator</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#pdf-info-panel">3. PDF Info Panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#error-snackbar">4. Error Snackbar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#analysis-5">5. Background</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#multi-page-review-screen">Multi-Page Review Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#multi-page-review-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#multi-page-review-2">2. Page Indicators</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#multi-page-review-3">3. Next Button</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#thumbnails-panel">4. Thumbnails Panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#thumbnail-card">5. Thumbnail Card</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#add-pages-card">6. Add Pages Card</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#reorder-pages-tip">7. Reorder Pages Tip</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#bottom-toolbar">8. Bottom Toolbar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#image-error">9. Image Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#imported-image-delete-last-page-dialog">10. Imported Image Delete Last Page Dialog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#help-screen">Help Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#help-screen-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#help-screen-2">2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#help-list-item">3. Help List Item</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#photo-tips-screen">Photo Tips Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#photo-tips-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#photo-tips-2">2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#header">3. Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#tip">4. Tip</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#back-to-camera-button">5. Back To Camera Button</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#supported-formats-screen">Supported Formats Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#supported-formats-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#supported-formats-2">2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#supported-formats-3">3. Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#format-info-list-item">4. Format Info List Item</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#file-import-screen">File Import Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#file-import-1">1. Action Bar</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#file-import-2">2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#file-import-3">3. Header</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#separator-line">4. Separator Line</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#section">5. Section</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#sections">6. Sections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization-guide.html#clear-defaults-dialog">Clear Defaults Dialog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization-guide.html#message">1. Message</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Event Tracking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guide-for-open-with.html">How to Upload PDFs and Images (pre-2.4.0)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="guide-for-open-with.html#general-considerations">General considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide-for-open-with.html#registering-pdf-and-image-file-types">Registering PDF and image file types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide-for-open-with.html#documentation">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guide-for-open-with.html#reading-files-from-external-storage">Reading files from external storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide-for-open-with.html#id1">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guide-for-open-with.html#handling-incoming-pdfs-and-images">Handling incoming PDFs and images</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide-for-open-with.html#id4">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="guide-for-open-with.html#showing-a-preview-of-the-pdfs-first-page">Showing a preview of the PDF’s first page</a><ul>
<li class="toctree-l3"><a class="reference internal" href="guide-for-open-with.html#id5">Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#licenses-and-acknowledgements-for-incorporated-software">Licenses and Acknowledgements for Incorporated Software</a><ul>
<li class="toctree-l3"><a class="reference internal" href="license.html#apache-commons-sanselan">Apache Commons Sanselan</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#touchimageview">TouchImageView</a></li>
<li class="toctree-l3"><a class="reference internal" href="license.html#gini-android-sdk">Gini Android SDK</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Gini Capture SDK for Android</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Event Tracking</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="event-tracking">
<h1>Event Tracking<a class="headerlink" href="#event-tracking" title="Permalink to this headline">¶</a></h1>
<p>In version <a class="reference external" href="https://github.com/gini/gini-capture-sdk-android/releases/tag/3.12.0">3.12.0</a> we introduced the possibility to track various
events which occur during the usage of the Gini Capture SDK.</p>
<p>To subscribe to the events you need to implement the <tt class="docutils literal"><span class="pre">EventTracker</span></tt> interface and pass it to the
builder when creating a new <tt class="docutils literal"><span class="pre">GiniCapture</span></tt> instance.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">GiniCapture</span><span class="o">.</span><span class="na">newInstance</span><span class="o">()</span>
    <span class="o">.</span><span class="na">setEventTracker</span><span class="o">(</span><span class="k">new</span> <span class="n">MyEventTracker</span><span class="o">());</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div>
</div>
<p>In <tt class="docutils literal"><span class="pre">MyEventTracker</span></tt> you can handle the events you are interested in.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">MyEventTracker</span> <span class="kd">implements</span> <span class="n">EventTracker</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCameraScreenEvent</span><span class="o">(</span><span class="kd">final</span> <span class="n">Event</span><span class="o">&lt;</span><span class="n">CameraScreenEvent</span><span class="o">&gt;</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">event</span><span class="o">.</span><span class="na">getType</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">TAKE_PICTURE</span><span class="o">:</span>
                <span class="c1">// handle the picture taken event</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">HELP</span><span class="o">:</span>
                <span class="c1">// handle the show help event</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">EXIT</span><span class="o">:</span>
                <span class="c1">// handle the exit event</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOnboardingScreenEvent</span><span class="o">(</span><span class="kd">final</span> <span class="n">Event</span><span class="o">&lt;</span><span class="n">OnboardingScreenEvent</span><span class="o">&gt;</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">(...)</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnalysisScreenEvent</span><span class="o">(</span><span class="kd">final</span> <span class="n">Event</span><span class="o">&lt;</span><span class="n">AnalysisScreenEvent</span><span class="o">&gt;</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">(...)</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReviewScreenEvent</span><span class="o">(</span><span class="kd">final</span> <span class="n">Event</span><span class="o">&lt;</span><span class="n">ReviewScreenEvent</span><span class="o">&gt;</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">(...)</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you use the Screen API all events will be triggered automatically.</p>
<p>If you use the Component API some events will not be triggered (for ex. events which rely on <tt class="docutils literal"><span class="pre">Activity#onBackPressed()</span></tt>). You can
check in the table below whether all the events you are interested in are triggered.</p>
<p class="last">To manually trigger events just call the relevant method of your <tt class="docutils literal"><span class="pre">EventTracker</span></tt> implementation with the required event.</p>
</div>
<div class="section" id="events">
<h2>Events<a class="headerlink" href="#events" title="Permalink to this headline">¶</a></h2>
<p>Event types are partitioned into different domains according to the screens that they appear at. Each domain has a number of event types.
Some events may supply additional details in a map.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="35%" />
<col width="27%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">API</th>
<th class="head">Domain</th>
<th class="head">Event enum value and details map keys</th>
<th class="head">Comment</th>
<th class="head">Introduced in (updated in)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Screen + Component</td>
<td>Onboarding</td>
<td><tt class="docutils literal"><span class="pre">OnboardingScreenEvent.START</span></tt></td>
<td>Onboarding started</td>
<td>3.12.0</td>
</tr>
<tr class="row-odd"><td>Screen + Component</td>
<td>Onboarding</td>
<td><tt class="docutils literal"><span class="pre">OnboardingScreenEvent.FINISH</span></tt></td>
<td>User completes onboarding</td>
<td>3.12.0</td>
</tr>
<tr class="row-even"><td>Screen</td>
<td>Camera Screen</td>
<td><tt class="docutils literal"><span class="pre">CameraScreenEvent.EXIT</span></tt></td>
<td>User closes the camera screen</td>
<td>3.12.0</td>
</tr>
<tr class="row-odd"><td>Screen</td>
<td>Camera Screen</td>
<td><tt class="docutils literal"><span class="pre">CameraScreenEvent.HELP</span></tt></td>
<td>User taps &#8220;Help&#8221; on the camera screen</td>
<td>3.12.0</td>
</tr>
<tr class="row-even"><td>Screen + Component</td>
<td>Camera Screen</td>
<td><tt class="docutils literal"><span class="pre">CameraScreenEvent.TAKE_PICTURE</span></tt></td>
<td>User takes a picture</td>
<td>3.12.0</td>
</tr>
<tr class="row-odd"><td>Screen</td>
<td>Review Screen</td>
<td><tt class="docutils literal"><span class="pre">ReviewScreenEvent.BACK</span></tt></td>
<td>User goes back from the review screen</td>
<td>3.12.0</td>
</tr>
<tr class="row-even"><td>Screen + Component</td>
<td>Review Screen</td>
<td><tt class="docutils literal"><span class="pre">ReviewScreenEvent.NEXT</span></tt></td>
<td>User advances from the review screen</td>
<td>3.12.0</td>
</tr>
<tr class="row-odd"><td>Screen + Component</td>
<td>Review Screen</td>
<td><tt class="docutils literal"><span class="pre">ReviewScreenEvent.UPLOAD_ERROR</span></tt>
<tt class="docutils literal"><span class="pre">ReviewScreenEvent.UPLOAD_ERROR_DETAILS_MAP_KEY.MESSAGE</span></tt>
<tt class="docutils literal"><span class="pre">ReviewScreenEvent.UPLOAD_ERROR_DETAILS_MAP_KEY.ERROR_OBJECT</span></tt></td>
<td>Upload error in the review screen</td>
<td>3.15.0</td>
</tr>
<tr class="row-even"><td>Screen</td>
<td>Analysis Screen</td>
<td><tt class="docutils literal"><span class="pre">AnalysisScreenEvent.CANCEL</span></tt></td>
<td>User cancels the process during analysis</td>
<td>3.12.0</td>
</tr>
<tr class="row-odd"><td>Screen + Component</td>
<td>Analysis Screen</td>
<td><tt class="docutils literal"><span class="pre">AnalysisScreenEvent.ERROR</span></tt>
<tt class="docutils literal"><span class="pre">AnalysisScreenEvent.ERROR_DETAILS_MAP_KEY.MESSAGE</span></tt>
<tt class="docutils literal"><span class="pre">AnalysisScreenEvent.ERROR_DETAILS_MAP_KEY.ERROR_OBJECT</span></tt></td>
<td>The analysis ended with an error.</td>
<td>3.12.0 (3.15.0)</td>
</tr>
<tr class="row-even"><td>Screen + Component</td>
<td>Analysis Screen</td>
<td><tt class="docutils literal"><span class="pre">AnalysisScreenEvent.RETRY</span></tt></td>
<td>The user decides to retry after an analysis error.</td>
<td>3.12.0</td>
</tr>
</tbody>
</table>
<p>The supported events are listed for each screen in a dedicated enum. You can view these enums in our <a class="reference external" href="http://developer.gini.net/gini-capture-sdk-android/javadoc/net/gini/android/capture/tracking/package-summary.html">Javadoc</a>.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="guide-for-open-with.html" class="btn btn-neutral float-right" title="How to Upload PDFs and Images (pre-2.4.0)">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="customization-guide.html" class="btn btn-neutral" title="Customization Guide"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  
</body>
</html>